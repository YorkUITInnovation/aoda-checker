<!-- Top Navigation Bar -->
<nav class="navbar navbar-expand-lg navbar-light">
    <div class="container-fluid">
        <!-- Mobile sidebar toggle -->
        <button class="sidebar-toggle" type="button" aria-label="Toggle sidebar navigation">
            <i class="bi bi-list"></i>
        </button>
        <a class="navbar-brand" href="/">
            <i class="bi bi-shield-check"></i> AODA Compliance Checker
        </a>
        <button class="navbar-toggler" type="button" data-bs-toggle="collapse" data-bs-target="#navbarNav" aria-label="Toggle navigation">
            <span class="navbar-toggler-icon"></span>
        </button>
        <div class="collapse navbar-collapse" id="navbarNav">
            <!-- Right side: User menu and Help -->
            <ul class="navbar-nav ms-auto">
                <li class="nav-item">
                    <span class="nav-link" role="status" aria-label="Current user: {{ current_user.username }}{% if current_user.is_admin %}, Administrator{% endif %}">
                        <span aria-hidden="true">Welcome, <strong>{{ current_user.username }}</strong></span>
                        {% if current_user.is_admin %}
                        <span class="badge bg-primary ms-1" aria-hidden="true">Admin</span>
                        {% endif %}
                    </span>
                </li>
                <li class="nav-item">
                    <a class="nav-link {{ 'active' if active_page == 'help' else '' }}" href="/help" aria-label="Help and User Guides">
                        <i class="bi bi-question-circle" aria-hidden="true"></i>
                        <span class="navbar-text-visible">Help</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link {{ 'active' if active_page == 'profile' else '' }}" href="/profile" aria-label="My Profile">
                        <i class="bi bi-person-circle" aria-hidden="true"></i>
                        <span class="navbar-text-visible">Profile</span>
                    </a>
                </li>
                <li class="nav-item">
                    <a class="nav-link" href="/logout" aria-label="Logout">
                        <i class="bi bi-box-arrow-right" aria-hidden="true"></i>
                        <span class="navbar-text-visible">Logout</span>
                    </a>
                </li>
            </ul>
        </div>
    </div>
</nav>
<!-- Sidebar overlay for mobile -->
<div class="sidebar-overlay"></div>
<style>
    /* Top Navbar Styles */
    .navbar {
        background-color: #ffffff !important;
        border-bottom: 1px solid #dee2e6;
        box-shadow: 0 2px 4px rgba(0,0,0,0.08);
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        z-index: 1040;
        height: 56px;
    }
    body {
        padding-top: 56px; /* Height of navbar */
    }
    .navbar-brand {
        font-weight: 600;
        color: #0d6efd !important;
    }
    .navbar-nav .nav-link {
        padding: 0.5rem 1rem;
    }
    .navbar-nav .nav-link.active {
        color: #0d6efd !important;
        font-weight: 600;
    }
    .navbar-nav .nav-link:hover {
        color: #0d6efd;
    }
    /* Hide text on desktop for icon-only buttons */
    @media (min-width: 992px) {
        .navbar-nav .nav-link i {
            font-size: 1.25rem;
        }
        .navbar-text-visible {
            position: absolute;
            width: 1px;
            height: 1px;
            padding: 0;
            margin: -1px;
            overflow: hidden;
            clip: rect(0, 0, 0, 0);
            white-space: nowrap;
            border-width: 0;
        }
    }
    @media (max-width: 991px) {
        .navbar-text-visible {
            margin-left: 0.5rem;
        }
    }
</style>

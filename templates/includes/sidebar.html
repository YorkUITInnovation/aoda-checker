<!-- Left Sidebar Navigation -->
<aside class="sidebar" id="sidebar">
    <nav aria-label="Main navigation">
        <ul class="nav flex-column">
            <li class="nav-item">
                <a class="nav-link {{ 'active' if active_page == 'home' else '' }}" href="/">
                    <i class="bi bi-search" aria-hidden="true"></i>
                    <span>Scan URLs</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if active_page == 'discover' else '' }}" href="/discover">
                    <i class="bi bi-compass" aria-hidden="true"></i>
                    <span>Discover URLs</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if active_page == 'history' else '' }}" href="/history">
                    <i class="bi bi-clock-history" aria-hidden="true"></i>
                    <span>History</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if active_page == 'user-checks' else '' }}" href="/checks">
                    <i class="bi bi-sliders" aria-hidden="true"></i>
                    <span>My Checks</span>
                </a>
            </li>

            {% if current_user.is_admin %}
            <li class="nav-item mt-3">
                <div class="sidebar-heading" role="heading" aria-level="2">
                    <i class="bi bi-shield-lock-fill" aria-hidden="true"></i>
                    <span>Admin</span>
                </div>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if active_page == 'users' else '' }}" href="/admin/users">
                    <i class="bi bi-people-fill" aria-hidden="true"></i>
                    <span>Users</span>
                </a>
            </li>
            <li class="nav-item">
                <a class="nav-link {{ 'active' if active_page == 'checks' else '' }}" href="/admin/checks">
                    <i class="bi bi-gear-fill" aria-hidden="true"></i>
                    <span>Check Configuration</span>
                </a>
            </li>
            {% endif %}
        </ul>
    </nav>
</aside>

<style>
    /* Sidebar Styles */
    .sidebar {
        position: fixed;
        top: 56px; /* Height of navbar */
        left: 0;
        bottom: 0;
        width: 250px;
        background-color: #f8f9fa;
        border-right: 1px solid #dee2e6;
        padding: 1.5rem 0;
        overflow-y: auto;
        z-index: 1000;
        transition: transform 0.3s ease;
    }

    .sidebar .nav-link {
        color: #212529;
        padding: 0.75rem 1.5rem;
        display: flex;
        align-items: center;
        transition: all 0.2s;
        border-left: 3px solid transparent;
    }

    .sidebar .nav-link:hover {
        background-color: #e9ecef;
        color: #0d6efd;
    }

    .sidebar .nav-link.active {
        background-color: #e7f1ff;
        color: #0d6efd;
        border-left-color: #0d6efd;
        font-weight: 600;
    }

    .sidebar .nav-link i {
        font-size: 1.25rem;
        margin-right: 0.75rem;
        width: 1.5rem;
        text-align: center;
    }

    .sidebar-heading {
        padding: 0.5rem 1.5rem;
        font-size: 0.875rem;
        font-weight: 600;
        color: #495057; /* Changed from #6c757d for better contrast (7.0:1 ratio) */
        text-transform: uppercase;
        letter-spacing: 0.05em;
        display: flex;
        align-items: center;
    }

    .sidebar-heading i {
        margin-right: 0.5rem;
    }

    /* Main content adjustment */
    body {
        padding-left: 250px;
    }

    .container, .container-fluid {
        padding-left: 2rem;
        padding-right: 2rem;
    }

    /* Mobile responsiveness */
    @media (max-width: 768px) {
        .sidebar {
            transform: translateX(-100%);
        }

        .sidebar.show {
            transform: translateX(0);
        }

        body {
            padding-left: 0;
        }

        .sidebar-toggle {
            display: inline-block !important;
        }
    }

    @media (min-width: 769px) {
        .sidebar-toggle {
            display: none !important;
        }
    }

    /* Sidebar toggle button */
    .sidebar-toggle {
        position: fixed;
        top: 10px;
        left: 10px;
        z-index: 1050;
        background-color: #fff;
        border: 1px solid #dee2e6;
        border-radius: 0.25rem;
        padding: 0.5rem;
        cursor: pointer;
        display: none;
    }

    .sidebar-overlay {
        position: fixed;
        top: 0;
        left: 0;
        right: 0;
        bottom: 0;
        background-color: rgba(0, 0, 0, 0.5);
        z-index: 999;
        display: none;
    }

    .sidebar-overlay.show {
        display: block;
    }
</style>

<script>
    // Mobile sidebar toggle functionality
    document.addEventListener('DOMContentLoaded', function() {
        const sidebar = document.getElementById('sidebar');
        const sidebarToggle = document.querySelector('.sidebar-toggle');
        const sidebarOverlay = document.querySelector('.sidebar-overlay');

        if (sidebarToggle) {
            sidebarToggle.addEventListener('click', function() {
                sidebar.classList.toggle('show');
                sidebarOverlay.classList.toggle('show');
            });
        }

        if (sidebarOverlay) {
            sidebarOverlay.addEventListener('click', function() {
                sidebar.classList.remove('show');
                sidebarOverlay.classList.remove('show');
            });
        }
    });
</script>

